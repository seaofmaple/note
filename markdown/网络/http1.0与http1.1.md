### 1.http

- 简介：**超文本传输协议**，有请求报文和响应报文之分,用于网络中数据的传输，以ASCⅡ码传输，属于应用层协议，是一个无状态协议

- 请求报文

  - 分为请求行 请求头部 空行 请求体(空行用来区分请求头部和请求体，如果出现两个空行则以第一个空行后面的为请求体)
    - 请求行里面是请求方法 URL HTTP版本
    - 请求头部里面一般是Accpet：表示客户端可识别的内容类型；User-Agent：客户端的浏览器操作系统版本类型版本内核.... Host:请求的主机名
    - 请求体一般是方法如POST，PUT携带的数据

  - 常见的请求头部： Date: 表示请求的时间，User-Agent， Accept-Encoding：指定接受的压缩方式

- 响应报文
  - 分为状态行 响应头部 空行 响应体
    - 状态行由三个部分组成 http版本 状态码 状态原因短语
    - 响应头部一般是从服务器向客户端响应时使用的字段，比如Accept-Ranges：可以接受的字节范围 
    - 常见的响应头部：Location ：令客户端重定向的地址 ETag ：服务器标记资源的唯一标识

- http状态码
  - 1xx: 服务器已经处理但是处于中间状态
    - 101:表示协议变更比如由http变为https
  - 2xx ： 成功
    - 200： OK服务器正确处理
    - 201： Created 请求已经实现并且服务器创建了一个新的资源
    - 202：Accepted 服务器已经处理请求但是不保证完成请求
    - 204： no-content 请求成功但是不包含响应主体部分
    - 206：partial-content 范围请求
  - 3xx：重定向
    - 301：永久重定向
    - 302： 临时重定向
    - 303： 存在另一个URL应该使用GET请求
    - 304： not-modified  服务器允许请求但是不满足请求的情况
  - 4xx：客户端发生错误
    - 400： 请求报文存在语法错误
    - 401：要求发送的信息要HTTP认证
    - 403： 请求被服务器拒绝
    - 404： 请求资源未找到
    - 408： 请求超时
  - 5xx： 服务器端发生错误
    - 500： 服务器在查询阶段发生错误
    - 501：服务器不支持该请求比如不支持该请求方法
    - 503：服务器处于超载或者维护状态
    - 505： 服务器不支持或者服务器拒绝请求使用的http版本

- http的keep-alive：在http1.0里面一个tcp连接只可以发送一个请求，这样大大增加了延迟以及cpu的负担所以在后来提出了重新连接，通过设置Connection：keep-alive来保持一个tcp的连接，http1.0需要手动打开而http1.1则是默认打开

### 2.http1.0和http1.1的区别

- 关于缓存，http1.0的缓存策略是通过Expires设置而这样设置有可能服务器的时间和客户端的时间不一样导致缓存更新不及时而http1.1则引入了Cache-Control这样直接通过设置缓存的秒数来更新缓存的就没有时间不一致的问题
- 长连接：http1.1默认支持长连接和请求的流水线处理可以在一个tcp连接上面进行多次tcp请求，而http1.0(非流水线)要在请求头里面设置才可以
- 带宽优化：如果只要一个资源的一部分内容在http1.0里面只能通过请求全部的来获取而http1.1引入了range支持请求部分内容返回状态码206
- host域：http1.0不支持而http1.1支持，（host字段是用来区分同一个ip下面的不同域名）

### 3.http2.0

- 简介：是http1.x的升级版本，有所有的状态码，采用二进制格式，支持多路复用，header压缩，服务端推送
-  二进制格式的支持让http2.0速度更快，帧的包含部分：类型Type，长度Length，流标识Stream ，有效载荷Frame Payload
-  多路复用允许通过单个连接同时发送多个http请求，通过流ID来实现，同一个tcp连接公用同一个流，所以流ID是一样的，根据流来还原
-  头部压缩：客户端和服务器共同维护一张表通过表里面的id来标识首部字段的key：value还可以指定压缩格式
-  服务端推送(把客户端需要的静态资源一起发送给客户端，减少客户端的请求次数)



